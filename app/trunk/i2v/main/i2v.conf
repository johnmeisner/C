#**************************************************************************
#*                                                                        *
#*     File Name: i2v.conf                                                *
#*     Author:                                                            *
#*         DENSO International America, Inc.                              *
#*         North America Research Laboratory, California Office           *
#*         3252 Business Park Drive                                       *
#*         Vista, CA 92081                                                *
#*                                                                        *
#**************************************************************************/

# I2V Global Config 
I2VSecurityDirectory          = /rwflash/security
I2VRSUID                      = 1; 0, 999    # this is the RSU ID number for a given
                                             # intersection deployment

# I2V App Enable Flags:
# SPAT is enabled via SCS.
# AMH for an app/task won't work if App is not enabled.
I2VSCSAppEnable               = 1; 0, 1
I2VSRMAppEnable               = 1; 0, 1
I2VMAPAppEnable               = 1; 0, 1
I2VTIMAppEnable               = 1; 0, 1
I2VIPBAppEnable               = 0; 0, 1
I2VAMHAppEnable               = 1; 0, 1
I2VIWMHAppEnable              = 1; 0, 1
I2VFWDMSGAppEnable            = 1; 0, 1
I2VRTCMAppEnable              = 0; 0, 1

# I2V Debug Flags
# individual feature app flags should be kept in conf file for feature and 
# app should check shared memory global debug flag plus individual to enable debug
I2VGlobalDebugFlag            = 1; 0, 1   # for all i2v apps
I2VDebugFlag                  = 1; 0, 1   # for i2v itself

# Debug GPS
########################
I2VGPSOverrideEnable          = 0; 0, 1   # this applies to all i2v apps - when enabled (1) apps will
                                          # use config values defined below when providing RSE GPS
                                          # data; when disabled apps may use their own config values
                                          # -if supported or real gps data
I2VGPSOverrideLat             = 37.418797; -90, 90
I2VGPSOverrideLong            = -122.135260; -180, 180
I2VGPSOverrideElev            = 30; -100, 1500

# Debug Time
########################
I2VConfigTimeEnable           = 0; 0, 1   # Enables (1) the system time to be fixed or increment from
                                          # the time listed below
I2VConfigTimeMode             = 0; 0, 1   # 0 = time increments; 1 = time fixed to value below for full operation
I2VConfigTimeSetting          = 07/30/2022,09:00:00:1000    # MM:DD:YYYY,hh:mm:ss:[uuuuuu]<optional microsec>

# Network Settings
########################
I2VEnableEthIPv6              = 0; 0, 1   # Enables (1) IPv6 over the ethernet port
I2VEthIPv6Addr                = 2001:1890:12e2:9900::b      # an IPv6 formatted IP
I2VEthIPv6Scope               = 64; 1, 128                  # IPv6 scope
I2VIPv6DefaultGateway         = 2001:1890:12e2:9900::1      # if set IPv6 formatted IP (set to NONE if no gateway)

# I2V Settings
########################
I2VJ2735Version               = 1; 0, 1   # Enables (1) J2735 2016 version; 0 is old version
I2VForceAlive                 = 0; 0, 1   # -If enabled (1) i2v will continue to operate if an app fails 
                                          # this value should normally never be set
I2VBroadcastingTimeShift      = 1; 0, 1   # Enable (1) CCL Time shifter (any app that broadcasts uses this)
I2VWSAEnable                  = 1; 0, 1   # Global flag for all i2v apps to enable (1) or disable WSAs

# Radio notes: when only a single radio is enabled it will always be in alternating mode;
#   I2VControlRadio is always enabled even if corresponding I2VRadioXEnable is not set
#   individual apps have radio related settings that may prevent the apps from broadcasting
#   when iwmh is enabled; if iwmh disabled apps unaffected by the settings below
#   when iwmh is enabled the I2VBroadcastUnified settings are ignored
#   -if an app has its wsaEnable setting active and if the app is on a radio in continuous mode,
#   the app will fail to start - WSAs are not available on radios in continuous mode
I2VControlRadio               = 0; 0, 3   # Defines radio used for the control channel (always alternating mode)
                                          # When ipb enabled and iwmh enabled, ipb radio is this radio
I2VRadioSecVerify             = 0; 0, 1   # When security enabled, 0 = verify all received WSMs (all radios), 
                                          # 1 = apps select received WSMs to verify (all radios)
I2VRadio0Enable               = 1; 0, 1   # Enables (1) use of Radio 0
I2VRadio0Mode                 = 1; 0, 1   # 0 = Alternating, 1 = Continuous
I2VRadio0Channel              = 183; 172, 184
I2VRadio1Enable               = 0; 0, 1   # Enables (1) use of Radio 1
I2VRadio1Mode                 = 1; 0, 1   # 0 = Alternating, 1 = Continuous
I2VRadio1Channel              = 183; 172, 184
I2VRadio2Enable               = 0; 0, 1   # Enables (1) use of Radio 2
I2VRadio2Mode                 = 1; 0, 1   # 0 = Alternating, 1 = Continuous
I2VRadio2Channel              = 183; 172, 184
I2VRadio3Enable               = 0; 0, 1   # Enables (1) use of Radio 3
I2VRadio3Mode                 = 1; 0, 1   # 0 = Alternating, 1 = Continuous
I2VRadio3Channel              = 183; 172, 184


I2VBroadcastUnified           = 1; 0, 1   # when set all enabled apps use channel and radio
                                          # settings defined below if broadcasting 
                                          # otherwise apps use individual conf file settings
I2VUnifiedChannelNumber       = 183; 172, 184
I2VUnifiedRadioNumber         = 0; 0, 1   # current implementation only supports two radios
                                          # in unified mode all apps broadcast on same radio
I2VUnifiedWSAPriority         = 20; 0, 62 # WSA priority
I2VEnableVOD                  = 0; 0 , 1  # Verify On Demand Enable
I2VSecurityVTPMsgRateMs       = 65535; 0, 65535       # Number of milliseconds between security credential verifications when
                                                    # using the Verify-Then-Process (VTP) method
                                                    #   0 = Verify every received message
                                                    #   1..65534 = Number of milliseconds between verifications
                                                  #   65535 = Disable VTP message verification
I2VSecurityEnable             = 0; 0, 1   # applies to all apps all the time; enable (1) security
I2VTransmitPower              = 22.0; 0.0, 23.0 # Radio transmit power; used by all I2V processes
I2VSecurityTimeBuffer         = 0; 0, 30  # Value in deci-seconds to allow security initialization to complete
                                          # before starting other apps - useful when multiple i2v apps need security
I2VCertAttachRate             = 20; 1, 100 # When security enabled, the frequency at which full certificates are
                                          # attached (Nth index) - this is a global flag applying to all I2V apps
I2VGenDefaultCert             = 0; 0, 1   # Enables (1) default certificate generation if default cert not found
                                          # only applicable if I2VDebugFlag set (also halts I2V if root cert and key missing)
I2VAutoGenCertRestart         = 0; 0, 1   # Enables (1) auto cert generation each restart (replacing previous default cert)
                                          # will do nothing if previous default cert not found (use I2VGenDefaultCert)
                                          # only applicable if I2VDebugFlag set and I2VGenDefaultCert set
I2VStorageBypass              = 0; 0, 1   # When set (1) i2v components that require persistent storage will operate 
                                          # without required storage
I2VDisableSysLog              = 0; 0, 1   # Disables USDOT required system logging when set to 1
I2VConsoleCleanup             = 0; 0, 1   # Reduces prints to the console when set to 1

#secure PSIDs listed below (all secure PSIDs must be in this file)
######################################################################
#PSIDs for apps

I2VSPATSecPSID                = 0x8002; 0, 0xFFFFFFFF   # PSID for SPAT messages ONLY when security enabled
I2VMAPSecPSID                 = 0xe0000017; 0, 0xFFFFFFFF   # PSID for MAP messages ONLY when security enabled

I2VTIMSecPSID                 = 0x8003; 0, 0xFFFFFFFF   # PSID for TIM messages ONLY when security enabled
I2VIPBSecPSID                 = 0x23;   0, 0xFFFFFFFF   # PSID for IP passthrough ONLY when security enabled

I2VSRMPSID                    = 0xe0000016; 0, 0xFFFFFFFF   # PSID for MAP messages ONLY when security enabled

#PSIDs for received BSMs
BSMRxPSIDDER                  = 0x20; 0, 0xFFFFFFFF   # DER PSID  (only valid when security enabled)
BSMRxPSIDPERA                 = 0x20; 0, 0xFFFFFFFF   # aligned PER PSID  (only valid when security enabled)
BSMRxPSIDPERU                 = 0x20; 0, 0xFFFFFFFF   # unaligned PER PSID  (only valid when security enabled)
I2VDirectASCSNMP              = 0;    0, 1            # 0 = SNMP off, 1 = SNMP on.

# 0 is DSRC only, 1 is CV2X only.
# This is I2V centric not radio setup itself.
# See nsconfig.conf for actual radio setup.
I2VRadioType = 1;   0, 1

# Interface Logging: Only works if (_nosyslog == WFALSE).
#                  : Warning: LOGMGR today does not manage size or age of ./ifclogs.
#     none  = 0x00 
#     all   = 0xff
#     eth0  = 0x01
#     eth1  = 0x02 :Not present: room for growth.
#     dsrc0 = 0x04 :If Cont mode then no dsrc1.
#     dsrc1 = 0x08
#     cv2x0 = 0x10
#     cv2x1 = 0x20 :Not present: room for growth. 
I2VInterfaceLogMask = 0x0; 0, 0xff

# 20210221: HACK - rather than create yet another config file
# the setting above is used by a utility that also needs the
# following setting; the following setting DOES NOT CONFORM
# to i2v standards for configs and is NOT used by i2v;
# but don't remove as this serves an important purpose for 5912
# ----> AND DO NOT ADD ANYTHING AFTER THE VALUE <-----
# Set value to 0 to avoid using the RF Switch (mostly dev mode)
# Set value to 1 for enclosures with only 2 V2X antennas
PLATFORM_USE_RFSW = 1

#SSP Related items
I2VSPATSSPEnable              = 1;    0, 1            # Enable SPaT SSP
I2VSPATBITMAPPEDSSPEnable     = 0;    0, 1            # Enable Bitmap SPaT SSP
I2VSPATSspString              = 0080013040            # FDOT - SPaT Ssp Value
I2VSPATSspMaskString          = 0080013040            # FDOT - SPaT Ssp Mask Value

I2VMAPSSPEnable               = 1;    0, 1            # Enable MAP SSP
I2VMAPBITMAPPEDSSPEnable      = 0;    0, 1            # Enable Bitmap MAP SSP
I2VMAPSspString               = 0080012040            # FDOT - MAP  Ssp Value
I2VMAPSspMaskString           = 0080012040            # FDOT - MAP  Ssp Mask Value

I2VTIMSSPEnable               = 1;    0, 1            # Enable TIM SSP
I2VTIMBITMAPPEDSSPEnable      = 0;    0, 1            # Enable Bitmap TIM SSP
I2VTIMSspString               = 008001F040            # FDOT - TIM  Ssp Value
I2VTIMSspMaskString           = 008001F040            # FDOT - TIM  Ssp Mask Value

# Device ID for Forwarding
I2VUseDeviceID                = 0;    0, 1            # Enable use of Device ID for V2X fowarding (with timestamp)

# Deciding if GPS state should control radio transmit
I2VUseGPSTXControl            = 1;    0, 1            # Enable to prevent transmitting when GPS or CV2X not ready
